////////////////////////////////////////////////////////////////////////////////
/// Define the main configuration maps
/// @author Fábio Macêdo Mendes
/// @group Config
////////////////////////////////////////////////////////////////////////////////
@import 'font-stacks';
@import 'colors';
@import '../../fn';
@import '../mixins/utilities';

//------------------------------------------------------------------------------
// CONFIGURATION DICTIONARY
//------------------------------------------------------------------------------

/// Main configuration dictionary. You customize Mendeleev by setting values
/// to this dictionary.
$config: () !default;

/// Default configuration options.
/// This map contains all default values for configurations that can be
/// overridden by the `$config` or `$config-defaults` mappings.
$mendeleev-enabled: true !default;
$mendeleev-config: (
    //
    // GLOBAL
    'breakpoints': (
        'sm': 30rem,
        'md': 50rem,
        'lg': 75rem,
    ),
    'utilities': (
        'important': true,
        'emit': 'respect',
    ),
    //
    // TYPOGRAPHY
    'typography': (
        //
        // Generic
        'modules': (
            'headings': $mendeleev-enabled,
            'paragraph': $mendeleev-enabled,
            'scale': $mendeleev-enabled,
            'leading': $mendeleev-enabled,
            'measure': $mendeleev-enabled,
            'indent': $mendeleev-enabled,
            'alignment': $mendeleev-enabled,
            'styles': $mendeleev-enabled,
            'weights': $mendeleev-enabled,
            'fonts': $mendeleev-enabled,
            'direction': $mendeleev-enabled,
            'white-space': $mendeleev-enabled,
        ),
        //
        // Typefaces
        'typeface': $MENDELEEV_TYPEFACE,
        'cursive': $font-stack-system-cursive,
        'monospace': $font-stack-ibm-plex-mono,
        'sans-serif': $font-stack-exo,
        'serif': $font-stack-ibm-plex-serif,
        //
        // Vertical rhythm and modular scale
        'size': (
            'start': 16,
            'sm': 17,
            'md': 18,
            'lg': 20,
        ),
        'lead': 1.5,
        'heading-lead': 1.250,
        'scale': (
            'start': 9/8,
            'sm': (9/4 + 5/4) / 3,
            'md': (9/8 + 5/2) / 3,
            'lg': 5/4,
        ),
        //
        // Overridden properties
        'body': (),
        'paragraph': (),
        'headings': (
            'letter-spacing': -0.03em,
            'font-weight': 900,
            'color': $color-brand,
        ),
    ),
    //
    // COLORS
    'palette': $MENDELEEV_COLORS,
    'contrast': $MENDELEEV_CONTRAST,
    'color': (
        'contrast-bias': 0.125,
        'roles': (
            'simple': (
                'primary', 'secondary', 'action',
                'positive', 'negative', 'warning',
                'black', 'white', 'grey', 'red', 'orange', 'yellow', 'olive',
                'green', 'teal', 'blue', 'violet', 'purple', 'pink', 'brown',
            ),
            'variants': (
                'brand', 'accent',
            ),
            'text': (
                'inverse', 'muted',
            )
        ),
        'variants': (
            'color': (
                'lighter': ('white', 75%),
                'light': ('white', 33%),
                'dark': ('black', 33%),
                'darker': ('black', 75%),
            ),
            'text': (
                'light': ('light', 97.5%),
                'dark': ('dark', 97.5%),
            ),
        ),
    ),
    //
    // ANIMATIONS
    'animation': (
        'duration': 300ms,
        'timing-function': ease,
    ),
    //
    // FORM ITEMS
    'input': (
        'color-role': 'white',
        'border': 1px solid,
        'border-color': 'action',
        'border-radius': 0.25,
    ),
    'button': (
        'color-role': 'action',
        'border': 1px solid,
        'border-color': 'action',
        'border-radius': 0.25,
        'font-weight': bold,
    ),
    //
    // LAYOUT
    'layout': (
        'display': $mendeleev-enabled,
        'float': $mendeleev-enabled,
        'position': $mendeleev-enabled,
        'container': $mendeleev-enabled,
        'overflow': $mendeleev-enabled,
    ),
    //
    // OTHER MODULES
    'shadow': $mendeleev-enabled,
    'flex': $mendeleev-enabled,
    'flex-grid': $mendeleev-enabled,
    'grid': $mendeleev-enabled,
    'border': $mendeleev-enabled,
    'visibility': $mendeleev-enabled,
    'list': $mendeleev-enabled,
    'transform': $mendeleev-enabled,
    'background': $mendeleev-enabled,
    'interactivity': $mendeleev-enabled,
    'padding': $mendeleev-enabled,
    'margin': $mendeleev-enabled,
    'sizes': $mendeleev-enabled,
    'sizing': $mendeleev-enabled,
    'radius': $mendeleev-enabled,
    'colors': $mendeleev-enabled,
    //
    // ELEMENT OVERRIDES
    'elements': (),
) !default;

//------------------------------------------------------------------------------
// SETTING UP UTILITY CLASSES
//------------------------------------------------------------------------------

// Default dictionary with Mendeleev state.
$MENDELEEV_UTILITIES: null !default;

/// Register utility class
///
/// @arg $name - Class name
/// @arg $data - Map with the class content
/// @arg $emit - Set to false to avoid emitting code in the final stylesheet.
@function register-utility($name, $data, $emit: true, $type: map) {
    $info: (name: $name, data: $data, emit: $emit);
    $MENDELEEV_UTILITIES: cons($info, $MENDELEEV_UTILITIES) !global;
    @return $info;
}

@function _bp-selector($bp, $name) {
    $name: str-slice($name, 2);
    @return '.#{$bp}\:#{$name}';
}
